<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Docker快速部署springboot包含mysql、redis、rabbitmq | Huangkongsheng Blog</title>

    
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />




<meta name="author" content="Huangkongsheng" />
<meta name="description" content="docker快速部署springboot 包含mysql redis rabbitmq 前言 Docker 是一个开源项目，诞生于 2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推" />



<meta name="generator" content="Hugo 0.74.3" />

<link rel="canonical" href="https://huangkongshenghugh.gitee.io/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" />


<meta property="og:title" content="Docker快速部署springboot包含mysql、redis、rabbitmq" />
<meta property="og:description" content="docker快速部署springboot 包含mysql redis rabbitmq 前言 Docker 是一个开源项目，诞生于 2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huangkongshenghugh.gitee.io/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" />
<meta property="article:published_time" content="2020-10-05T11:59:01+08:00" />
<meta property="article:modified_time" content="2020-10-05T11:59:01+08:00" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker快速部署springboot包含mysql、redis、rabbitmq"/>
<meta name="twitter:description" content="docker快速部署springboot 包含mysql redis rabbitmq 前言 Docker 是一个开源项目，诞生于 2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推"/>


<link rel="stylesheet" href="/css/semantic.min.css" />
<link rel="stylesheet" href="/css/OverlayScrollbars.min.css" />
<link rel="stylesheet" href="/css/github-markdown.css" />
<link rel="stylesheet" href="/css/site.css" />


<style>
  a {
    color: seagreen !important;
  }
</style>



<style>
  .inverted a {
     color: darkseagreen !important;
  }
</style>



<style>
  body {
    
      background-color: black;
    
    
      background-image: url(/me/background.jpg);
    
  }
</style>


    


  
    <link rel="stylesheet" data-highlight href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/gruvbox-light.min.css" />
  



  </head>

  <body>
    
<nav class="ui secondary inverted menu dream-menu">

  <div class="item">
    <i class="large link bullseye icon dream-flip-toggle" title="翻转！"></i>
  </div>
  <div class="item">
    <i class="large link home icon" title="首页" onclick="window.location.href = 'https:\/\/huangkongshenghugh.gitee.io\/'"></i>
  </div>
  <div class="item">
    <i class="large link icon theme-switch" onclick="themeSwitch()"></i>
  </div>
  
  <div class="item">
    <i class="large link search icon" onclick="toggleSearch()"></i>
  </div>
  
</nav>

    <div class="flip-container">
      <div class="flipper">
        <section class="front">
          <div class="dream-max-width">
            
<div class="ui centered relaxed grid dream-grid">
  <div class="sixteen wide mobile sixteen wide tablet twelve wide computer column markdown-body dream-single" id="dream-save-post-as-img">
    
    <section class="ui top attached segment cover">
      <div class="cover-img" style="background-image: url(/img/pexels-lukas-574073.jpg);"></div>
    </section>
    
    <section class="ui attached segment">
      <header>
        <h1 class="ui large header">
          Docker快速部署springboot包含mysql、redis、rabbitmq
          <div class="sub header">
            @
            
              
                Huangkongsheng
              
            
            · Monday, Oct 5, 2020
            · 14 分钟阅读
            · 更新于 Oct 5, 2020
          </div>
        </h1>
      </header>

      <article style="margin-top: 2rem;"><h1 id="docker快速部署springboot--包含mysql-redis-rabbitmq">docker快速部署springboot  包含mysql redis rabbitmq</h1>
<h1 id="前言">前言</h1>
<p>Docker 是一个开源项目，诞生于 2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推出的 Go 语言实现。 项目后来加入了 Linux 基金会，遵从了 Apache 2.0 协议，项目代码在 GitHub 上进行维护。
Docker 自开源后受到广泛的关注和讨论，以至于 dotCloud 公司后来都改名为 Docker Inc。Redhat 已经在其 RHEL6.5 中集中支持 Docker；Google 也在其 PaaS 产品中广泛应用。
Docker 项目的目标是实现轻量级的操作系统虚拟化解决方案。 Docker 的基础是 Linux 容器（LXC）等技术。在 LXC 的基础上 Docker 进行了进一步的封装，让用户不需要去关心容器的管理，使得操作更为简便。用户操作 Docker 的容器就像操作一个快速轻量级的虚拟机一样简单。
下面两张图比较了传统虚拟机和docker之间的区别</p>
<p><img src="https://img-blog.csdnimg.cn/20201004215755335.png#pic_center" alt="请添加图片描述">
<img src="https://img-blog.csdnimg.cn/20201004215755411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="请添加图片描述">
从而我们可以看出传统虚拟机是在硬件层面实现的，而docker是在操作系统层面上实现的虚拟化
p.s.：Hypervisor是一种运行在物理服务器和操作系统之间的中间软件层，可允许多个操作系统和应用共享一套基础物理硬件，因此也可以看作是虚拟环境中的“元”操作系统，它可以协调访问服务器上的所有物理设备和虚拟机，也叫虚拟机监视器（Virtual Machine Monitor）。Hypervisor是所有虚拟化技术的核心。非中断地支持多工作负载迁移的能力是Hypervisor的基本功能。当服务器启动并执行Hypervisor时，它会给每一台虚拟机分配适量的内存、CPU、网络和磁盘，并加载所有虚拟机的客户操作系统。
现在项目一般为单点登录或者是分布式，而分布式能想到微服务，所以如果把这种思想应用到容器部署中则会有基于单容器部署（类似单点登录）和多容器部署（类似微服务）两种方式，多容器部署即把mysql、rabbitMq、redis等依赖组件和spring boot服务分开成多个容器来部署的方式；单容器部署即把MySQL等其他组件和spirng boot应用放在同一容器的部署方式。
多容器部署的方式是目前主流的方式，因为具有以下优势：
方便横向扩展；
服务可用性高，不会因为一个容器服务挂了而导致所有服务都不能用；
单个容器不会太臃肿、资源消耗相对较小；
部署方便。
多容器的部署方式又有基于docker命令和基于docker-compose命令两种方式。这里首先要再介绍下docker compose。
Docker Compose 是Docker官方编排（Orchestration）项目之一，负责快速在集群中部署分布式应用。比较直观的感受是多个容器可以通过一个配置来启动，从而简化了部署过程，我们也可以通过一个配置文件来查看部署的命令等等。
下面我就介绍基于docker run等docker命令和基于docker compose两种部署方式
e.g：本文中前端采用pm2工具部署，后端采用spring boot + mysql + redis + rabbitmq</p>
<h1 id="安装docker">安装docker</h1>
<p>建议使用阿里云镜像加速安装docker
<a href="https://a6a4efw3.mirror.aliyuncs.com">https://a6a4efw3.mirror.aliyuncs.com</a>
<img src="https://img-blog.csdnimg.cn/20201004220109905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述">
在安装好docker后按要求配置路径
<img src="https://img-blog.csdnimg.cn/20201004220126713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h1 id="基于docker命令部署">基于docker命令部署</h1>
<h3 id="后端spring-boot及依赖服务部署">后端Spring boot及依赖服务部署</h3>
<p>首先Spring Boot应用依赖于Mysql、redis和RabbitMQ服务，所以我们先把这三个服务部署好。
在安装部署前我们可以搜索要安装的服务有哪些镜像，可以选择合适我们的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker search 镜像名
</code></pre></div><p>例如要搜索mysql的镜像就可以用命令（其他服务同理）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker search mysql
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/2020100422053242.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="mysql服务部署">MySQL服务部署</h4>
<p>我采用了镜像搜索结果中的第一个镜像
<img src="https://img-blog.csdnimg.cn/20201004220643652.png#pic_center" alt="在这里插入图片描述"></p>
<p>执行镜像拉去命令
docker pull mysql
<img src="https://img-blog.csdnimg.cn/20201004220712502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>使用该命令会去拉取tag为latest的mysql镜像，使用以下命令可以查看本地存在的所有镜像，我们就可看到刚才下载的mysql镜像了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker images   
</code></pre></div><p>使用启动镜像的命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name mysql --restart<span style="color:#f92672">=</span>always -p 3306:3306 -e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> -d mysql --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004220806310.png#pic_center" alt="在这里插入图片描述"></p>
<p>p.s:命令详解</p>
<ul>
<li>
<p>&ndash;name：给容器命名
no，默认策略，在容器退出时不重启容器
on-failure，在容器非正常退出时（退出状态非0），才会重启容器</p>
</li>
<li>
<p>on-failure:3，在容器非正常退出时重启容器，最多重启3次
always，在容器退出时总是重启容器
unless-stopped，在容器退出时总是重启容器，但是不考虑在Docker守护进程启动时就已经停止了的容器</p>
</li>
<li>
<p>-p:端口映射，映射逻辑为主机端口：容器端口</p>
</li>
<li>
<p>-e:参数设置，这里的MYSQL_ROOT_PASSWORD就是设置账号名为root的账户的密码</p>
</li>
<li>
<p>-d:后台运行容器</p>
</li>
<li>
<p>mysql:要运行的镜像名</p>
</li>
<li>
<p>&ndash;lower_case_table_names=1:设置不区分表名大小写，不然可能会在spring boot应用时报表不存的错误（实际创建的数据库和表为：test.user，报错提示为test.USER is not exist）</p>
</li>
<li>
<p><strong>&ndash;default-authentication-plugin=mysql_native_password</strong>:mysql版本为8.0以上时需要，因为8.0和5.7的密码加密机制不同，如果本地navicat或者SQLyog版本不支持新的加密机制（ERROR 2059 (HY000): Authentication plugin &lsquo;caching_sha2_password&rsquo; cannot be loaded）则要加上这条命令；如果不加的话也可以通过后续密码的方式来解决。解决方法如下：1.执行命令：docker exec -it 容器id /bin/bash；2.再执行：mysql -h 127.0.0.1 -P 3306 -u root -p，输入密码进去mysql；3.修改密码：ALTER USER &lsquo;root&rsquo;@'%&rsquo; IDENTIFIED WITH mysql_native_password BY &lsquo;root&rsquo;;
p.s：</p>
</li>
<li>
<p>第三步中的BY &lsquo;root&rsquo;，root为要设置的新密码。</p>
</li>
<li>
<p>docker exec -it表示开启交互模式的终端（-it=-i -t）</p>
</li>
<li>
<p>/bin/bash表示可以执行一些简单的shell命令
在执行完以上操作后就可以用Navicat等工具链接数据库测试是否搭建成功。</p>
</li>
</ul>
<h4 id="redis服务部署">Redis服务部署</h4>
<p>搜索和下载镜像的部署同MySQL中一样，本文采用的redis镜像为：
<img src="https://img-blog.csdnimg.cn/20201004221320750.png#pic_center" alt="在这里插入图片描述"></p>
<p>执行命令启动服务</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --name test-redis -p 6379:6379 redis --requirepass <span style="color:#e6db74">&#39;password&#39;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004221409526.png#pic_center" alt="在这里插入图片描述"></p>
<p>如果要开启redis的持久化则加上 &ndash;appendonly yes
完成命令如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --name test-redis -p 6379:6379 redis --requirepass <span style="color:#e6db74">&#39;password&#39;</span> --appendonly yes
</code></pre></div><p>如果不加&ndash;appendonly yes则默认开启redis的RDB模式，如果加了则开启AOF模式。
redis服务测试：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it 容器id redis-cli -h 127.0.0.1 -p <span style="color:#ae81ff">6379</span>
</code></pre></div><p>进入redis后验证密码的命令为：
auth password（自己设置的密码）</p>
<h4 id="rabbitmq服务部署">RabbitMQ服务部署</h4>
<p>本文拉取的rabbitmq的镜像为（拉取方法同上）：（rabbitmq:management）
<img src="https://img-blog.csdnimg.cn/20201004221832698.png#pic_center" alt="在这里插入图片描述"></p>
<p>运行服务命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name test-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p>&ndash;hostname：指定容器主机名称
这里用了两次-p的端口映射是因为5672是给服务用的端口。15672是web端访问的接口
如果要在启动时同时设置用户和密码可使用一下命令
如果要在本机外使用rabbitmq需要注意在服务器安全组中设置好端口5672和15672</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name test-rabbit -e RABBITMQ_DEFAULT_USER<span style="color:#f92672">=</span>admin -e RABBITMQ_DEFAULT_PASS<span style="color:#f92672">=</span>admin -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004221732735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>启动服务后检查是否可以通过访问ip:15672打开web管理页面(使用的镜像如果是rabbitmq:latest则无法打开，如果是rabbitmq:management则可以打开)，如果打不开则是因为rabbitmq默认不开启web页面，需要进去容器中设置。执行命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it 容器id /bin/bash
</code></pre></div><p>在进入容器后执行：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rabbitmq-plugins enable rabbitmq_management
</code></pre></div><p>我们再访问web页面就发现可以打开了。</p>
<h4 id="spring-boot服务部署">Spring Boot服务部署</h4>
<p>在部署完其他的组件后终于可以部署我们的应用了，而整体的思路就是把我们的应用的jar文件变成镜像文件，然后再运行即可。所以首先我们需要把应用打包成jar文件，拷贝到服务器上一个目录下，本文中拷贝到了/opt/travel/文件夹下，然后在该文件夹下再用命令vi Dockerfile创建文件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#指定基础镜像，格式为：FROM image:tag 例如：FROM java:8   （8是版本1.8）</span>
FROM java

<span style="color:#75715e">#维护者信息</span>
MAINTAINER HUGH

<span style="color:#75715e">#添加要加入的文件，与COPY命令的性质基本一致，但是ADD更强大</span>
<span style="color:#75715e">#可添加源路径，可自动解压压缩包，但解压功能和指定目标路径不可同时使用</span>
<span style="color:#75715e">#该命令在使用docker run -v时可不用，在后续有介绍</span>
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
<span style="color:#75715e">#add命令会把config下的所有文件拷贝到容器中的/opt/test/config下,此条代码只用作添加文件夹的讲解示范，</span>
ADD config /opt/test/config/

<span style="color:#75715e">#用于指定在容器启动时要执行的命令</span>
CMD java -jar /opt/travel/travel.jar

<span style="color:#75715e">#为构建镜像设置监听端口，使容器在运行时监听</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>以上就是创建一个简单的Dockerfile的示例。
Dockerfile还可以写成（&quot;-Djava.security.egd=file:/dev/./urandom&quot;可以加快SecureRandom产生随机数，这样可以避免部署的网站在用户第一次登陆时太慢）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
ENTRYPOINT <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;java&#34;</span>,<span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom&#34;</span>,<span style="color:#e6db74">&#34;-jar&#34;</span>,<span style="color:#e6db74">&#34;/opt/travel/travel.jar&#34;</span><span style="color:#f92672">]</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>然后运行命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t travel-image .
</code></pre></div><p>-t:给镜像命名
最后的点表示使用当前上下文中的dockerfile文件
构建好了可以用以下命令查看是否有自己的镜像了</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker images
</code></pre></div><p>或者</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker image ls   <span style="color:#75715e">#这是新版docker的命令</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004222329201.png#pic_center" alt="在这里插入图片描述"></p>
<p>有我们的镜像后就可以运行了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh travel-image
</code></pre></div><p>e.g.（推荐）
可以在docker run的时候加入-v 来映射数据卷，这样的话在后续版本更新中可方便地替换jar文件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh -v jar:/opt/travel
</code></pre></div><p>这条命令中 -v后的参数的意思为：把本机的当前目录的jar文件夹映射到容器中的/opt/travel文件夹，这样每次更新只需更换travel.jar即可（使用数据卷的话可在Dockerfile中把ADD  travel-0.0.1-SNAPSHOT.jar   /opt/travel/travel.jar这行命令去掉）
使用以下命令可查看当前运行的镜像</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps
</code></pre></div><p>如果要查看运行过的所有镜像（包括以前运行过，现在停止的）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps -a
</code></pre></div><p>如果启动失败了可以通过以下几条命令查看容器日志排查问题</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker logs <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> CONTAINER
Options:
    --details        显示更多的信息
    -f, --follow         跟踪实时日志
    --since string   显示自某个timestamp之后的日志，或相对时间，如42m（即42分钟）
    --tail string    从日志末尾显示多少行日志， 默认是all
    -t, --timestamps     显示时间戳
    --until string   显示自某个timestamp之前的日志，或相对时间，如42m（即42分钟）
</code></pre></div><p>前端pm2部署
1.首先把项目文件发布到服务器上，本例中放到了/opt/frontend/file下
2.拉取node镜像，本例中用的node镜像为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                   DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
node                                   Node.js is a JavaScript-based platform <span style="color:#66d9ef">for</span>...   <span style="color:#ae81ff">6935</span>      <span style="color:#f92672">[</span>OK<span style="color:#f92672">]</span>   
</code></pre></div><p>3.使用vi Dockerfile创建文件，文件内容如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#使用的基础镜像</span>
FROM node:latest

<span style="color:#75715e">#作者信息</span>
MAINTAINER test

<span style="color:#75715e">#把file文件夹下的所有文件添加到容器的/opt/frontend下</span>
ADD file /opt/frontend/

<span style="color:#75715e">#在镜像的构建过程中执行特定的命令并生成一个中间镜像，node的镜像中没有pm2，所以在此安装</span>
RUN npm install -g pm2

<span style="color:#75715e">#指定工作路径，之后的命令将在此路径上运行</span>
WORKDIR /opt/frontend

<span style="color:#75715e">#因为本例中不会自动生成日志文件和文件夹所以在这创建，如果自己的项目不需要的可以去掉这里的命令</span>
RUN mkdir logs
RUN touch logs/app.log

<span style="color:#75715e">#修改脚本的权限，不然会报没有权限的错误</span>
RUN chmod <span style="color:#ae81ff">775</span> frontend-start.sh

<span style="color:#75715e">#npm安装</span>
RUN npm install

<span style="color:#75715e">#暴露前端4010端口（根据自己前端服务的端口修改）</span>
EXPOSE <span style="color:#ae81ff">4010</span>

<span style="color:#75715e">#执行脚本</span>
CMD /opt/frontend/frontend-start.sh
</code></pre></div><p>e.g：因为CMD命令是只有最后一个才生效，而我们要执行的命令又不止一条，所以采用了运行脚本文件的方式来运行
脚本文件frontend-start.sh内容如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#pm2部署项目</span>
pm2 start /opt/frontend/pm2.json

<span style="color:#75715e">#持续监控日志，让容器不退出</span>
tail -f /opt/frontend/logs/app.log
</code></pre></div><p>4.在编写完这些文件后就可以开始构建镜像</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t test-frontend .
</code></pre></div><p>最后的点表示使用当前上下文中的dockerfile文件
5.使用docker images命令查看我们构建的镜像
运行镜像的命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -d -p 4010:4010 --name test-frontend test-frontend:latest
</code></pre></div><p>6.运行之后我们通过docker ps命令查看容器是否在运行，如果在运行了就可在本地通过浏览器访问地址来打开页面：http://服务器ip:4010
7.如果运行有错误可通过docker logs 容器id来查看日志解决问题</p>
<h1 id="基于docker-compose部署">基于docker-compose部署</h1>
<p>首先我介绍一下本例子的目录结构</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">-docker-compose.yml
-fontend
  -Dockerfile
  -files（前端项目文件，已包含pm2.json）
-backend
  -Dockerfile
  -test.jar
-mysql
  -Dockerfile
  -db
  -sql（要初始化数据库所需要的sql）
</code></pre></div><p>前后端的Dockerfile在前文中已经介绍，这里主要相比前文做一些差异化介绍，差一点就在于docker-compose.yml文件和mysql的Dockerfile
mysql的Dockerfile的内容如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#使用mysql8.0在后续的sql自动执行中会有问题，所以这里采用mysql5.7</span>
FROM mysql:5.7

MAINTAINER test-mysql-compose

<span style="color:#75715e">#把sql</span>
ADD sql /docker-entrypoint-initdb.d
</code></pre></div><p>编写该Dockerfile的目的主要是把要初始化mysql数据库的sql文件添加入容器中，把我们想要自动执行的sh文件或sql文件放入/docker-entrypoint-initdb.d中即可，在容器初始化时就会自动执行（原理是在容器中的/docker-enetrypoint.sh文件，容器启动时会去执行该文件，该文件又会去执行/docker-entrypoint-initdb.d中的sh和sql文件）
e.g.
这里有两个需要特别注意的问题
在mysql8.0中如果在docker-compose中添加了volumn的映射就不会再去执行docker-entrypoint.sh文件，而5.7版本没有这个问题。我暂没有找到解决办法，所以这里就采用了5.7版本。
我在添加了sql文件，执行mysql镜像后出现连不上mysql的问题，报的unknow server的错误，过了十多分钟后才能正常脸上。经过排查才发现是因为sql文件太大导致没有导入完（我的运行了16个SQL文件大概共15.5MB，用了20分钟左右）。这样的问题当然有主机性能等因素影响，所以建议初始化的sql文件尽量要小。
接下来就是最重要的docker-compose.yml文件的介绍</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#docker-compose的版本</span>
version: <span style="color:#e6db74">&#39;3&#39;</span>

<span style="color:#75715e">#定义服务</span>
services:

  <span style="color:#75715e">#服务名称，可随意定义</span>
  backend:
    build:
      <span style="color:#75715e">#dockerfile的路径</span>
      context: backend
      <span style="color:#75715e">#dockerfile的名称</span>
      dockerfile: Dockerfile
    <span style="color:#75715e">#相当于docker run -v的作用</span>
    volumes:
      - <span style="color:#e6db74">&#34;./jar:/opt/test&#34;</span>
    <span style="color:#75715e">#容器名称</span>
    container_name: test-backend-compose
    <span style="color:#75715e">#该服务依赖的其他服务，该配置选项可修改启动顺序</span>
    depends_on:
      - mysql
      - redis
      - rabbitmq
    ports:
      - <span style="color:#e6db74">&#34;8082:8082&#34;</span>

  frontend:
    build:
      context: frontend
      dockerfile: Dockerfile
    ports:
      - <span style="color:#e6db74">&#34;4010:4010&#34;</span>
    container_name: test-frontend-compose

  mysql:
    build:
      context: mysql
      dockerfile: Dockerfile
    ports:
      - <span style="color:#e6db74">&#34;3306:3306&#34;</span>
    <span style="color:#75715e">#相当于docker run命令中的-e</span>
    environment:
      MYSQL_ROOT_PASSWORD: root
      <span style="color:#75715e">#初始化的数据库名称</span>
      MYSQL_DATABASE: test
    container_name: test-mysql-compose
    restart: always
    <span style="color:#75715e">#数据卷映射关系，把本机的./mysql/db目录映射到容器中的/var/lib/mysql</span>
    volumes:
      - <span style="color:#e6db74">&#34;./mysql/db/:/var/lib/mysql&#34;</span>
    <span style="color:#75715e">#该选项中的命令会覆盖Dockfile中的CMD中的命令.lower_case_table_names参数是为了表名不区分大小写，default-authentication-plugin是8.0中密码加密策略不同带来的链接问题，如果不用8.0可不加此选项</span>
    command: mysqld --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password

  redis:
    image: redis
    ports:
      - <span style="color:#e6db74">&#34;6379:6379&#34;</span>
    container_name: test-redis-compose
    restart: always
    <span style="color:#75715e">#启动redis服务并添加密码为：123456,并开启redis的持久化</span>
    command: redis-server --requirepass <span style="color:#ae81ff">123456</span> --appendonly yes

  rabbitmq:
    image: rabbitmq:management
    ports:
      - <span style="color:#e6db74">&#34;5672:5672&#34;</span>
      - <span style="color:#e6db74">&#34;15672:15672&#34;</span>
    container_name: test-rabbitmq-compose
    environment:
      <span style="color:#75715e">#rabbitmq的初始用户名</span>
      RABBITMQ_DEFAULT_USER: admin
      <span style="color:#75715e">#rabbitmq的初始密码</span>
      RABBITMQ_DEFAULT_PASS: <span style="color:#ae81ff">123456</span>

<span style="color:#75715e">#指定使用的网络，此处是使用已经提前创建好的自定义网络</span>
<span style="color:#75715e">#网络创建命令：docker network create -d bridge --subnet 172.50.0.0/16 cooperationassociation</span>
<span style="color:#75715e">#--subnet指定网段 -d指定连接方式，最后的cooperationassociation为网络名称</span>
<span style="color:#75715e">#使用新的指定网络是为了防止网段占用完，这样会导致启动容器时XShell会自动退出，且本地用不了访问不了服务（服务器已有大量连接时可能会出现）</span>
<span style="color:#75715e">#查看网段占用情况的命令：route -n</span>
networks:
  default:
    external:
      name: cooperationassociation
</code></pre></div><p>编写文件后使用以下命令即可运行</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#-d表示后台运行</span>
docker-compose up -d
</code></pre></div><p>docker-compose还有以下常用命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#停止运行并移除容器</span>
docker-compose down

<span style="color:#75715e">#启动单个服务</span>
docker-compose up -d 服务名

<span style="color:#75715e">#查看当前运行的服务</span>
docker-compose ps

<span style="color:#75715e">#构建镜像，--no-cache表示不用缓存，否则在重新编辑Dockerfile后再build可能会直接使用缓存而导致新编辑内容不生效</span>
docker-compose build --no-cache

<span style="color:#75715e">#查看镜像</span>
docker-compose images

<span style="color:#75715e">#查看日志</span>
docker-compose logs

<span style="color:#75715e">#启动/停止服务</span>
docker-compose start/stop 服务名

<span style="color:#75715e">#拉取镜像</span>
docker-compose pull 镜像名
</code></pre></div><p>以上只是一些最常用的命令，我们也可以看出常用的docker命令在docker-compose中也可使用。</p>
<h1 id="docker删除镜像和容器">Docker删除镜像和容器</h1>
<p>删除docker中的镜像，我们可以使用如下命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker rmi 镜像id
</code></pre></div><p>如果无法删除就使用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker  rmi  -f  镜像id
</code></pre></div><p>删除docker中的容器可以使用如下命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker rm 容器id
</code></pre></div><p>使用如下命令可以查看当前正在运行的容器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps
</code></pre></div><p>对于已退出的容器，可以使用如下命令进行查看：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps -a
</code></pre></div><h1 id="提炼总结">提炼总结</h1>
<p>运行mysql</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name mysql -p 3306:3306 -v mysql_data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> -d mysql --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password
</code></pre></div><p>运行redis</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name redis -p 6379:6379 -d redis --requirepass <span style="color:#e6db74">&#39;huang6kongsheng&#39;</span>
</code></pre></div><p>进入redis</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it 5499931b77fb7a26e829b8c9ff9320be0a215d2907131802cec694f8091aa5ae redis-cli -h 127.0.0.1 -p <span style="color:#ae81ff">6379</span>
</code></pre></div><p>运行rabbitmq并开启前端页面</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name rabbit -e RABBITMQ_DEFAULT_USER<span style="color:#f92672">=</span>admin -e RABBITMQ_DEFAULT_PASS<span style="color:#f92672">=</span>admin -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p>Dockerfile</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
ENTRYPOINT <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;java&#34;</span>,<span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom&#34;</span>,<span style="color:#e6db74">&#34;-jar&#34;</span>,<span style="color:#e6db74">&#34;/travel.jar&#34;</span><span style="color:#f92672">]</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
CMD java -jar /opt/travel/travel.jar
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>创建镜像</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t travel-image .
</code></pre></div><p>运行镜像</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh travel-image
</code></pre></div><p>引用：https://www.jianshu.com/p/528fa4d62ace</p>
</article>
    </section>

    <footer class="ui attached segment dream-tags" data-html2canvas-ignore>
      
        
          <a class="ui label" href="/tags/docker" title="docker">docker</a>
        
          <a class="ui label" href="/tags/springboot" title="springboot">springboot</a>
        
          <a class="ui label" href="/tags/mysql" title="mysql">mysql</a>
        
          <a class="ui label" href="/tags/redis" title="redis">redis</a>
        
          <a class="ui label" href="/tags/rabbitmq" title="rabbitmq">rabbitmq</a>
        
      
      <div
        class="ui label"
        style="float: right; cursor: pointer;"
        onclick="savePostAsImg()">
        <i class="save icon"></i>保存为图片
      </div>
    </footer>

    
      <footer class="ui attached segment" data-html2canvas-ignore>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
      </footer>
    

    
      <footer class="ui bottom attached stacked segment post-disqus-area" data-html2canvas-ignore>
        <div id="disqus_thread"></div>
        <script>
          


          var disqus_config = function () {
            this.page.url = 'https:\/\/huangkongshenghugh.gitee.io\/posts\/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq\/';  
            this.page.identifier = '\/posts\/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq\/'; 
          };

          (function() { 
            var d = document, s = d.createElement('script');
            s.src = 'https://' + 'kongshenghuang6' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </footer>
    
    
    

  </div>
  <div class="sixteen wide mobile sixteen wide tablet four wide computer column">
    <article class="dream-header">
  <section class="ui top attached center aligned segment">
    <div class="ui small circular image">
      
        <img src="/img/avatar.jpg">
      
    </div>

    
    <div class="ui medium header">Huangkongsheng 的博客<div class="sub header" style="margin-top: 0.5rem;">与其感慨前路难行，不如马上出发。</div>
    </div>
    

    <div class="ui horizontal list">
      
      <a class="item" href="/posts">
        <i class="archive icon" title="归档"></i>
      </a>
      
      <a class="item" href="/tags">
        <i class="tags icon" title="所有标签"></i>
      </a>
      <a class="item" href="/categories">
        <i class="th list icon" title="所有分类"></i>
      </a>
    </div>
  </section>

  
  <section class="ui attached center aligned segment dream-tags">
    
      <a class="ui label" href="/tags/alipay" title="alipay">alipay</a>
    
      <a class="ui label" href="/tags/bigdecimal" title="bigdecimal">bigdecimal</a>
    
      <a class="ui label" href="/tags/centos8" title="centos8">centos8</a>
    
      <a class="ui label" href="/tags/docker" title="docker">docker</a>
    
      <a class="ui label" href="/tags/email" title="email">email</a>
    
      <a class="ui label" href="/tags/git" title="git">git</a>
    
      <a class="ui label" href="/tags/gitpit" title="gitpit">gitpit</a>
    
      <a class="ui label" href="/tags/hugo" title="hugo">hugo</a>
    
      <a class="ui label" href="/tags/jdk" title="jdk">jdk</a>
    
      <a class="ui label" href="/tags/layui" title="layui">layui</a>
    
      <a class="ui label" href="/tags/linux" title="linux">linux</a>
    
      <a class="ui label" href="/tags/mysql" title="mysql">mysql</a>
    
      <a class="ui label" href="/tags/rabbitmq" title="rabbitmq">rabbitmq</a>
    
      <a class="ui label" href="/tags/redis" title="redis">redis</a>
    
      <a class="ui label" href="/tags/springboot" title="springboot">springboot</a>
    
      <a class="ui label" href="/tags/string" title="string">string</a>
    
      <a class="ui label" href="/tags/tomcat" title="tomcat">tomcat</a>
    
      <a class="ui label" href="/tags/%E5%8D%9A%E5%AE%A2" title="博客">博客</a>
    
  </section>
  

  
  <section class="ui attached segment dream-categories">
    <div class="ui accordion">
      
      
      
      
      

      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/alipay" class="item">alipay</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/%E5%85%B3%E4%BA%8E%E6%94%AF%E4%BB%98%E5%AE%9D%E5%90%8C%E6%AD%A5%E9%AA%8C%E7%AD%BE%E6%88%90%E5%8A%9F%E8%80%8C%E5%BC%82%E6%AD%A5%E9%AA%8C%E7%AD%BE%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="item">关于支付宝同步验签成功而异步验签失败的解决办法</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/docker" class="item">docker</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" class="item">Docker快速部署springboot包含mysql、redis、rabbitmq</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/email" class="item">email</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/securerandom%E9%9D%9E%E5%B8%B8%E6%85%A2%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="item">SecureRandom非常慢解决办法</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/git" class="item">git</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/hugoblogbuild/" class="item">使用Hugo快速搭建个人博客网站</a>
                </div>
              </div>
            
              <div class="item">
                <div class="content">
                  <a href="/posts/errorauthentication/" class="item">今天使用git时出现fatal:HttpRequestException encountered.发送请求时出错。</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/java" class="item">java</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/bigdecimal%E8%BD%ACstring/" class="item">BigDecimal转String</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/layui" class="item">layui</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/springboot%E6%95%B4%E5%90%88layui%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5/" class="item">Springboot整合layui进行分页</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
      

      
        <div class="title">
          <a class="item" href="/categories" style="padding-left: 0.5rem;">......</a>
        </div>
      
    </div>
  </section>
  

  <section class="ui attached segment header-socials">
    <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:1711539076@qq.com">
        <i class=" mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  
    <div class="item">
      <a href="https://github.com/huangkongsheng" target="_blank">
        <i class=" github icon" title="GitHub"></i>
      </a>
    </div>
  

  

  
</nav>

  </section>

  <section class="ui bottom attached center aligned segment">
    
      <p>© 2018 - 2020 Huangkongsheng Blog</p>
    

    <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</p>

    
      <p>nothing's gonna change my love for you！</p>
    
  </section>
</article>

  </div>
</div>

          </div>
        </section>
        <section class="back">
          <div class="dream-max-width">
            <div class="ui centered relaxed grid dream-grid dream-back">
  
  
  
    <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
      <article>
        <div class="ui top attached segment">
          <h3 class="ui header">联系方式</h3>
        </div>
        <div class="ui bottom attached segment markdown-body">
          <p>QQ：1576945489</p>
<p>qq邮箱：1576945489@qq.com</p>

        </div>
      </article>
    </section>
  
    <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
      <article>
        <div class="ui top attached segment">
          <h3 class="ui header">关于我</h3>
        </div>
        <div class="ui bottom attached segment markdown-body">
          <p>的 ❤️ 博客</p>
<p>记录一些 🌈 生活上，技术上的事</p>
<p>业余时间会做开源和 JavaWeb</p>
<p>主要的技术栈是：</p>
<ul>
<li>JavaScript &amp; TypeScript</li>
<li>Java</li>
<li>Spring</li>
<li>Springboot</li>
</ul>
<p>写着玩（写过）：</p>
<ul>
<li>JavaScript</li>
</ul>

        </div>
      </article>
    </section>
  

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    <article>
      <div class="ui top attached segment">
        <h3 class="ui header">社交链接</h3>
      </div>
      <div class="ui bottom attached segment">
        <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:1711539076@qq.com">
        <i class="large mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  
    <div class="item">
      <a href="https://github.com/huangkongsheng" target="_blank">
        <i class="large github icon" title="GitHub"></i>
      </a>
    </div>
  

  

  
</nav>

      </div>
    </article>
  </section>

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    
      <footer class="ui segment">
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
      </footer>
    
  </section>

  
  
</div>

          </div>
        </section>
      </div>
    </div>

    <script>
  window.darkNav =  true 
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/semantic.min.js"></script>
<script src="/js/jquery.overlayScrollbars.min.js"></script>
<script src="/js/header.js"></script>
<script src="/js/main.js"></script>
<script src="/js/theme.js"></script>

    
<script src="/js/html2canvas.min.js"></script>
<script src="/js/post.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js"></script>

  
    
      <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/languages/ocaml.min.js"></script>
     
  

  <script>
  hljs.initHighlightingOnLoad()
  setHighlightTheme()

  function setHighlightTheme() {
    var isDark = localStore.getItem('hugo-theme-dream-is-dark')
    var lightTheme = "gruvbox-light"
    var darkTheme = "gruvbox-dark"
    var theme = isDark ? darkTheme : lightTheme

    $('link[data-highlight]').attr('href', 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/' + theme + '.min.css')
    $('pre').css('background', isDark ? '#333' : '')
  }
</script>





    
      <div class="ui inverted segment" id="dream-search">
  <div class="ui search">
    <div class="ui transparent input">
      <input class="prompt" type="text" placeholder="搜索" />
    </div>
    <div class="results"></div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $.getJSON('https:\/\/huangkongshenghugh.gitee.io\//index.json', function (data) {
      $('.ui.search').search({
        source: data,
        searchFields: ['title'],
        showNoResults: true,
      })
    })
  })
</script>
<script src="/js/search.js"></script>

    

    
  </body>
</html>
