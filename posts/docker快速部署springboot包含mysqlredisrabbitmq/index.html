<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Dockerå¿«é€Ÿéƒ¨ç½²springbootåŒ…å«mysqlã€redisã€rabbitmq | Huangkongsheng Blog</title>

    
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />




<meta name="author" content="Huangkongsheng" />
<meta name="description" content="dockerå¿«é€Ÿéƒ¨ç½²springboot åŒ…å«mysql redis rabbitmq å‰è¨€ Docker æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¯ç”Ÿäº 2013 å¹´åˆï¼Œæœ€åˆæ˜¯ dotCloud å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ã€‚å®ƒåŸºäº Google å…¬å¸æ¨" />



<meta name="generator" content="Hugo 0.74.3" />

<link rel="canonical" href="https://huangkongshenghugh.gitee.io/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" />


<meta property="og:title" content="Dockerå¿«é€Ÿéƒ¨ç½²springbootåŒ…å«mysqlã€redisã€rabbitmq" />
<meta property="og:description" content="dockerå¿«é€Ÿéƒ¨ç½²springboot åŒ…å«mysql redis rabbitmq å‰è¨€ Docker æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¯ç”Ÿäº 2013 å¹´åˆï¼Œæœ€åˆæ˜¯ dotCloud å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ã€‚å®ƒåŸºäº Google å…¬å¸æ¨" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huangkongshenghugh.gitee.io/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" />
<meta property="article:published_time" content="2020-10-05T11:59:01+08:00" />
<meta property="article:modified_time" content="2020-10-05T11:59:01+08:00" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dockerå¿«é€Ÿéƒ¨ç½²springbootåŒ…å«mysqlã€redisã€rabbitmq"/>
<meta name="twitter:description" content="dockerå¿«é€Ÿéƒ¨ç½²springboot åŒ…å«mysql redis rabbitmq å‰è¨€ Docker æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¯ç”Ÿäº 2013 å¹´åˆï¼Œæœ€åˆæ˜¯ dotCloud å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ã€‚å®ƒåŸºäº Google å…¬å¸æ¨"/>


<link rel="stylesheet" href="/css/semantic.min.css" />
<link rel="stylesheet" href="/css/OverlayScrollbars.min.css" />
<link rel="stylesheet" href="/css/github-markdown.css" />
<link rel="stylesheet" href="/css/site.css" />


<style>
  a {
    color: seagreen !important;
  }
</style>



<style>
  .inverted a {
     color: darkseagreen !important;
  }
</style>



<style>
  body {
    
      background-color: black;
    
    
      background-image: url(/me/background.jpg);
    
  }
</style>


    


  
    <link rel="stylesheet" data-highlight href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/gruvbox-light.min.css" />
  



  </head>

  <body>
    
<nav class="ui secondary inverted menu dream-menu">

  <div class="item">
    <i class="large link bullseye icon dream-flip-toggle" title="ç¿»è½¬ï¼"></i>
  </div>
  <div class="item">
    <i class="large link home icon" title="é¦–é¡µ" onclick="window.location.href = 'https:\/\/huangkongshenghugh.gitee.io\/'"></i>
  </div>
  <div class="item">
    <i class="large link icon theme-switch" onclick="themeSwitch()"></i>
  </div>
  
  <div class="item">
    <i class="large link search icon" onclick="toggleSearch()"></i>
  </div>
  
</nav>

    <div class="flip-container">
      <div class="flipper">
        <section class="front">
          <div class="dream-max-width">
            
<div class="ui centered relaxed grid dream-grid">
  <div class="sixteen wide mobile sixteen wide tablet twelve wide computer column markdown-body dream-single" id="dream-save-post-as-img">
    
    <section class="ui top attached segment cover">
      <div class="cover-img" style="background-image: url(/img/pexels-lukas-574073.jpg);"></div>
    </section>
    
    <section class="ui attached segment">
      <header>
        <h1 class="ui large header">
          Dockerå¿«é€Ÿéƒ¨ç½²springbootåŒ…å«mysqlã€redisã€rabbitmq
          <div class="sub header">
            @
            
              
                Huangkongsheng
              
            
            Â· Monday, Oct 5, 2020
            Â· 14 åˆ†é’Ÿé˜…è¯»
            Â· æ›´æ–°äº Oct 5, 2020
          </div>
        </h1>
      </header>

      <article style="margin-top: 2rem;"><h1 id="dockerå¿«é€Ÿéƒ¨ç½²springboot--åŒ…å«mysql-redis-rabbitmq">dockerå¿«é€Ÿéƒ¨ç½²springboot  åŒ…å«mysql redis rabbitmq</h1>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>Docker æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¯ç”Ÿäº 2013 å¹´åˆï¼Œæœ€åˆæ˜¯ dotCloud å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ã€‚å®ƒåŸºäº Google å…¬å¸æ¨å‡ºçš„ Go è¯­è¨€å®ç°ã€‚ é¡¹ç›®åæ¥åŠ å…¥äº† Linux åŸºé‡‘ä¼šï¼Œéµä»äº† Apache 2.0 åè®®ï¼Œé¡¹ç›®ä»£ç åœ¨ GitHub ä¸Šè¿›è¡Œç»´æŠ¤ã€‚
Docker è‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨å’Œè®¨è®ºï¼Œä»¥è‡³äº dotCloud å…¬å¸åæ¥éƒ½æ”¹åä¸º Docker Incã€‚Redhat å·²ç»åœ¨å…¶ RHEL6.5 ä¸­é›†ä¸­æ”¯æŒ Dockerï¼›Google ä¹Ÿåœ¨å…¶ PaaS äº§å“ä¸­å¹¿æ³›åº”ç”¨ã€‚
Docker é¡¹ç›®çš„ç›®æ ‡æ˜¯å®ç°è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚ Docker çš„åŸºç¡€æ˜¯ Linux å®¹å™¨ï¼ˆLXCï¼‰ç­‰æŠ€æœ¯ã€‚åœ¨ LXC çš„åŸºç¡€ä¸Š Docker è¿›è¡Œäº†è¿›ä¸€æ­¥çš„å°è£…ï¼Œè®©ç”¨æˆ·ä¸éœ€è¦å»å…³å¿ƒå®¹å™¨çš„ç®¡ç†ï¼Œä½¿å¾—æ“ä½œæ›´ä¸ºç®€ä¾¿ã€‚ç”¨æˆ·æ“ä½œ Docker çš„å®¹å™¨å°±åƒæ“ä½œä¸€ä¸ªå¿«é€Ÿè½»é‡çº§çš„è™šæ‹Ÿæœºä¸€æ ·ç®€å•ã€‚
ä¸‹é¢ä¸¤å¼ å›¾æ¯”è¾ƒäº†ä¼ ç»Ÿè™šæ‹Ÿæœºå’Œdockerä¹‹é—´çš„åŒºåˆ«</p>
<p><img src="https://img-blog.csdnimg.cn/20201004215755335.png#pic_center" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">
<img src="https://img-blog.csdnimg.cn/20201004215755411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">
ä»è€Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¼ ç»Ÿè™šæ‹Ÿæœºæ˜¯åœ¨ç¡¬ä»¶å±‚é¢å®ç°çš„ï¼Œè€Œdockeræ˜¯åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°çš„è™šæ‹ŸåŒ–
p.s.ï¼šHypervisoræ˜¯ä¸€ç§è¿è¡Œåœ¨ç‰©ç†æœåŠ¡å™¨å’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸­é—´è½¯ä»¶å±‚ï¼Œå¯å…è®¸å¤šä¸ªæ“ä½œç³»ç»Ÿå’Œåº”ç”¨å…±äº«ä¸€å¥—åŸºç¡€ç‰©ç†ç¡¬ä»¶ï¼Œå› æ­¤ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯è™šæ‹Ÿç¯å¢ƒä¸­çš„â€œå…ƒâ€æ“ä½œç³»ç»Ÿï¼Œå®ƒå¯ä»¥åè°ƒè®¿é—®æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰ç‰©ç†è®¾å¤‡å’Œè™šæ‹Ÿæœºï¼Œä¹Ÿå«è™šæ‹Ÿæœºç›‘è§†å™¨ï¼ˆVirtual Machine Monitorï¼‰ã€‚Hypervisoræ˜¯æ‰€æœ‰è™šæ‹ŸåŒ–æŠ€æœ¯çš„æ ¸å¿ƒã€‚éä¸­æ–­åœ°æ”¯æŒå¤šå·¥ä½œè´Ÿè½½è¿ç§»çš„èƒ½åŠ›æ˜¯Hypervisorçš„åŸºæœ¬åŠŸèƒ½ã€‚å½“æœåŠ¡å™¨å¯åŠ¨å¹¶æ‰§è¡ŒHypervisoræ—¶ï¼Œå®ƒä¼šç»™æ¯ä¸€å°è™šæ‹Ÿæœºåˆ†é…é€‚é‡çš„å†…å­˜ã€CPUã€ç½‘ç»œå’Œç£ç›˜ï¼Œå¹¶åŠ è½½æ‰€æœ‰è™šæ‹Ÿæœºçš„å®¢æˆ·æ“ä½œç³»ç»Ÿã€‚
ç°åœ¨é¡¹ç›®ä¸€èˆ¬ä¸ºå•ç‚¹ç™»å½•æˆ–è€…æ˜¯åˆ†å¸ƒå¼ï¼Œè€Œåˆ†å¸ƒå¼èƒ½æƒ³åˆ°å¾®æœåŠ¡ï¼Œæ‰€ä»¥å¦‚æœæŠŠè¿™ç§æ€æƒ³åº”ç”¨åˆ°å®¹å™¨éƒ¨ç½²ä¸­åˆ™ä¼šæœ‰åŸºäºå•å®¹å™¨éƒ¨ç½²ï¼ˆç±»ä¼¼å•ç‚¹ç™»å½•ï¼‰å’Œå¤šå®¹å™¨éƒ¨ç½²ï¼ˆç±»ä¼¼å¾®æœåŠ¡ï¼‰ä¸¤ç§æ–¹å¼ï¼Œå¤šå®¹å™¨éƒ¨ç½²å³æŠŠmysqlã€rabbitMqã€redisç­‰ä¾èµ–ç»„ä»¶å’Œspring bootæœåŠ¡åˆ†å¼€æˆå¤šä¸ªå®¹å™¨æ¥éƒ¨ç½²çš„æ–¹å¼ï¼›å•å®¹å™¨éƒ¨ç½²å³æŠŠMySQLç­‰å…¶ä»–ç»„ä»¶å’Œspirng bootåº”ç”¨æ”¾åœ¨åŒä¸€å®¹å™¨çš„éƒ¨ç½²æ–¹å¼ã€‚
å¤šå®¹å™¨éƒ¨ç½²çš„æ–¹å¼æ˜¯ç›®å‰ä¸»æµçš„æ–¹å¼ï¼Œå› ä¸ºå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
æ–¹ä¾¿æ¨ªå‘æ‰©å±•ï¼›
æœåŠ¡å¯ç”¨æ€§é«˜ï¼Œä¸ä¼šå› ä¸ºä¸€ä¸ªå®¹å™¨æœåŠ¡æŒ‚äº†è€Œå¯¼è‡´æ‰€æœ‰æœåŠ¡éƒ½ä¸èƒ½ç”¨ï¼›
å•ä¸ªå®¹å™¨ä¸ä¼šå¤ªè‡ƒè‚¿ã€èµ„æºæ¶ˆè€—ç›¸å¯¹è¾ƒå°ï¼›
éƒ¨ç½²æ–¹ä¾¿ã€‚
å¤šå®¹å™¨çš„éƒ¨ç½²æ–¹å¼åˆæœ‰åŸºäºdockerå‘½ä»¤å’ŒåŸºäºdocker-composeå‘½ä»¤ä¸¤ç§æ–¹å¼ã€‚è¿™é‡Œé¦–å…ˆè¦å†ä»‹ç»ä¸‹docker composeã€‚
Docker Compose æ˜¯Dockerå®˜æ–¹ç¼–æ’ï¼ˆOrchestrationï¼‰é¡¹ç›®ä¹‹ä¸€ï¼Œè´Ÿè´£å¿«é€Ÿåœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚æ¯”è¾ƒç›´è§‚çš„æ„Ÿå—æ˜¯å¤šä¸ªå®¹å™¨å¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ¥å¯åŠ¨ï¼Œä»è€Œç®€åŒ–äº†éƒ¨ç½²è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥æŸ¥çœ‹éƒ¨ç½²çš„å‘½ä»¤ç­‰ç­‰ã€‚
ä¸‹é¢æˆ‘å°±ä»‹ç»åŸºäºdocker runç­‰dockerå‘½ä»¤å’ŒåŸºäºdocker composeä¸¤ç§éƒ¨ç½²æ–¹å¼
e.gï¼šæœ¬æ–‡ä¸­å‰ç«¯é‡‡ç”¨pm2å·¥å…·éƒ¨ç½²ï¼Œåç«¯é‡‡ç”¨spring boot + mysql + redis + rabbitmq</p>
<h1 id="å®‰è£…docker">å®‰è£…docker</h1>
<p>å»ºè®®ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå®‰è£…docker
<a href="https://a6a4efw3.mirror.aliyuncs.com">https://a6a4efw3.mirror.aliyuncs.com</a>
<img src="https://img-blog.csdnimg.cn/20201004220109905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
åœ¨å®‰è£…å¥½dockeråæŒ‰è¦æ±‚é…ç½®è·¯å¾„
<img src="https://img-blog.csdnimg.cn/20201004220126713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="åŸºäºdockerå‘½ä»¤éƒ¨ç½²">åŸºäºdockerå‘½ä»¤éƒ¨ç½²</h1>
<h3 id="åç«¯spring-bootåŠä¾èµ–æœåŠ¡éƒ¨ç½²">åç«¯Spring bootåŠä¾èµ–æœåŠ¡éƒ¨ç½²</h3>
<p>é¦–å…ˆSpring Bootåº”ç”¨ä¾èµ–äºMysqlã€rediså’ŒRabbitMQæœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæŠŠè¿™ä¸‰ä¸ªæœåŠ¡éƒ¨ç½²å¥½ã€‚
åœ¨å®‰è£…éƒ¨ç½²å‰æˆ‘ä»¬å¯ä»¥æœç´¢è¦å®‰è£…çš„æœåŠ¡æœ‰å“ªäº›é•œåƒï¼Œå¯ä»¥é€‰æ‹©åˆé€‚æˆ‘ä»¬çš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker search é•œåƒå
</code></pre></div><p>ä¾‹å¦‚è¦æœç´¢mysqlçš„é•œåƒå°±å¯ä»¥ç”¨å‘½ä»¤ï¼ˆå…¶ä»–æœåŠ¡åŒç†ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker search mysql
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/2020100422053242.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h4 id="mysqlæœåŠ¡éƒ¨ç½²">MySQLæœåŠ¡éƒ¨ç½²</h4>
<p>æˆ‘é‡‡ç”¨äº†é•œåƒæœç´¢ç»“æœä¸­çš„ç¬¬ä¸€ä¸ªé•œåƒ
<img src="https://img-blog.csdnimg.cn/20201004220643652.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ‰§è¡Œé•œåƒæ‹‰å»å‘½ä»¤
docker pull mysql
<img src="https://img-blog.csdnimg.cn/20201004220712502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ä½¿ç”¨è¯¥å‘½ä»¤ä¼šå»æ‹‰å–tagä¸ºlatestçš„mysqlé•œåƒï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æœ¬åœ°å­˜åœ¨çš„æ‰€æœ‰é•œåƒï¼Œæˆ‘ä»¬å°±å¯çœ‹åˆ°åˆšæ‰ä¸‹è½½çš„mysqlé•œåƒäº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker images   
</code></pre></div><p>ä½¿ç”¨å¯åŠ¨é•œåƒçš„å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name mysql --restart<span style="color:#f92672">=</span>always -p 3306:3306 -e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> -d mysql --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004220806310.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>p.s:å‘½ä»¤è¯¦è§£</p>
<ul>
<li>
<p>&ndash;nameï¼šç»™å®¹å™¨å‘½å
noï¼Œé»˜è®¤ç­–ç•¥ï¼Œåœ¨å®¹å™¨é€€å‡ºæ—¶ä¸é‡å¯å®¹å™¨
on-failureï¼Œåœ¨å®¹å™¨éæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€é0ï¼‰ï¼Œæ‰ä¼šé‡å¯å®¹å™¨</p>
</li>
<li>
<p>on-failure:3ï¼Œåœ¨å®¹å™¨éæ­£å¸¸é€€å‡ºæ—¶é‡å¯å®¹å™¨ï¼Œæœ€å¤šé‡å¯3æ¬¡
alwaysï¼Œåœ¨å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯å®¹å™¨
unless-stoppedï¼Œåœ¨å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯å®¹å™¨ï¼Œä½†æ˜¯ä¸è€ƒè™‘åœ¨Dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶å°±å·²ç»åœæ­¢äº†çš„å®¹å™¨</p>
</li>
<li>
<p>-p:ç«¯å£æ˜ å°„ï¼Œæ˜ å°„é€»è¾‘ä¸ºä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£</p>
</li>
<li>
<p>-e:å‚æ•°è®¾ç½®ï¼Œè¿™é‡Œçš„MYSQL_ROOT_PASSWORDå°±æ˜¯è®¾ç½®è´¦å·åä¸ºrootçš„è´¦æˆ·çš„å¯†ç </p>
</li>
<li>
<p>-d:åå°è¿è¡Œå®¹å™¨</p>
</li>
<li>
<p>mysql:è¦è¿è¡Œçš„é•œåƒå</p>
</li>
<li>
<p>&ndash;lower_case_table_names=1:è®¾ç½®ä¸åŒºåˆ†è¡¨åå¤§å°å†™ï¼Œä¸ç„¶å¯èƒ½ä¼šåœ¨spring bootåº”ç”¨æ—¶æŠ¥è¡¨ä¸å­˜çš„é”™è¯¯ï¼ˆå®é™…åˆ›å»ºçš„æ•°æ®åº“å’Œè¡¨ä¸ºï¼štest.userï¼ŒæŠ¥é”™æç¤ºä¸ºtest.USER is not existï¼‰</p>
</li>
<li>
<p><strong>&ndash;default-authentication-plugin=mysql_native_password</strong>:mysqlç‰ˆæœ¬ä¸º8.0ä»¥ä¸Šæ—¶éœ€è¦ï¼Œå› ä¸º8.0å’Œ5.7çš„å¯†ç åŠ å¯†æœºåˆ¶ä¸åŒï¼Œå¦‚æœæœ¬åœ°navicatæˆ–è€…SQLyogç‰ˆæœ¬ä¸æ”¯æŒæ–°çš„åŠ å¯†æœºåˆ¶ï¼ˆERROR 2059 (HY000): Authentication plugin &lsquo;caching_sha2_password&rsquo; cannot be loadedï¼‰åˆ™è¦åŠ ä¸Šè¿™æ¡å‘½ä»¤ï¼›å¦‚æœä¸åŠ çš„è¯ä¹Ÿå¯ä»¥é€šè¿‡åç»­å¯†ç çš„æ–¹å¼æ¥è§£å†³ã€‚è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š1.æ‰§è¡Œå‘½ä»¤ï¼šdocker exec -it å®¹å™¨id /bin/bashï¼›2.å†æ‰§è¡Œï¼šmysql -h 127.0.0.1 -P 3306 -u root -pï¼Œè¾“å…¥å¯†ç è¿›å»mysqlï¼›3.ä¿®æ”¹å¯†ç ï¼šALTER USER &lsquo;root&rsquo;@'%&rsquo; IDENTIFIED WITH mysql_native_password BY &lsquo;root&rsquo;;
p.sï¼š</p>
</li>
<li>
<p>ç¬¬ä¸‰æ­¥ä¸­çš„BY &lsquo;root&rsquo;ï¼Œrootä¸ºè¦è®¾ç½®çš„æ–°å¯†ç ã€‚</p>
</li>
<li>
<p>docker exec -itè¡¨ç¤ºå¼€å¯äº¤äº’æ¨¡å¼çš„ç»ˆç«¯ï¼ˆ-it=-i -tï¼‰</p>
</li>
<li>
<p>/bin/bashè¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸€äº›ç®€å•çš„shellå‘½ä»¤
åœ¨æ‰§è¡Œå®Œä»¥ä¸Šæ“ä½œåå°±å¯ä»¥ç”¨Navicatç­‰å·¥å…·é“¾æ¥æ•°æ®åº“æµ‹è¯•æ˜¯å¦æ­å»ºæˆåŠŸã€‚</p>
</li>
</ul>
<h4 id="redisæœåŠ¡éƒ¨ç½²">RedisæœåŠ¡éƒ¨ç½²</h4>
<p>æœç´¢å’Œä¸‹è½½é•œåƒçš„éƒ¨ç½²åŒMySQLä¸­ä¸€æ ·ï¼Œæœ¬æ–‡é‡‡ç”¨çš„redisé•œåƒä¸ºï¼š
<img src="https://img-blog.csdnimg.cn/20201004221320750.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ‰§è¡Œå‘½ä»¤å¯åŠ¨æœåŠ¡</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --name test-redis -p 6379:6379 redis --requirepass <span style="color:#e6db74">&#39;password&#39;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004221409526.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¦‚æœè¦å¼€å¯redisçš„æŒä¹…åŒ–åˆ™åŠ ä¸Š &ndash;appendonly yes
å®Œæˆå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --name test-redis -p 6379:6379 redis --requirepass <span style="color:#e6db74">&#39;password&#39;</span> --appendonly yes
</code></pre></div><p>å¦‚æœä¸åŠ &ndash;appendonly yesåˆ™é»˜è®¤å¼€å¯redisçš„RDBæ¨¡å¼ï¼Œå¦‚æœåŠ äº†åˆ™å¼€å¯AOFæ¨¡å¼ã€‚
redisæœåŠ¡æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it å®¹å™¨id redis-cli -h 127.0.0.1 -p <span style="color:#ae81ff">6379</span>
</code></pre></div><p>è¿›å…¥redisåéªŒè¯å¯†ç çš„å‘½ä»¤ä¸ºï¼š
auth passwordï¼ˆè‡ªå·±è®¾ç½®çš„å¯†ç ï¼‰</p>
<h4 id="rabbitmqæœåŠ¡éƒ¨ç½²">RabbitMQæœåŠ¡éƒ¨ç½²</h4>
<p>æœ¬æ–‡æ‹‰å–çš„rabbitmqçš„é•œåƒä¸ºï¼ˆæ‹‰å–æ–¹æ³•åŒä¸Šï¼‰ï¼šï¼ˆrabbitmq:managementï¼‰
<img src="https://img-blog.csdnimg.cn/20201004221832698.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿è¡ŒæœåŠ¡å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name test-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p>&ndash;hostnameï¼šæŒ‡å®šå®¹å™¨ä¸»æœºåç§°
è¿™é‡Œç”¨äº†ä¸¤æ¬¡-pçš„ç«¯å£æ˜ å°„æ˜¯å› ä¸º5672æ˜¯ç»™æœåŠ¡ç”¨çš„ç«¯å£ã€‚15672æ˜¯webç«¯è®¿é—®çš„æ¥å£
å¦‚æœè¦åœ¨å¯åŠ¨æ—¶åŒæ—¶è®¾ç½®ç”¨æˆ·å’Œå¯†ç å¯ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤
å¦‚æœè¦åœ¨æœ¬æœºå¤–ä½¿ç”¨rabbitmqéœ€è¦æ³¨æ„åœ¨æœåŠ¡å™¨å®‰å…¨ç»„ä¸­è®¾ç½®å¥½ç«¯å£5672å’Œ15672</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name test-rabbit -e RABBITMQ_DEFAULT_USER<span style="color:#f92672">=</span>admin -e RABBITMQ_DEFAULT_PASS<span style="color:#f92672">=</span>admin -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004221732735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIyNzYyNg==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¯åŠ¨æœåŠ¡åæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡è®¿é—®ip:15672æ‰“å¼€webç®¡ç†é¡µé¢(ä½¿ç”¨çš„é•œåƒå¦‚æœæ˜¯rabbitmq:lateståˆ™æ— æ³•æ‰“å¼€ï¼Œå¦‚æœæ˜¯rabbitmq:managementåˆ™å¯ä»¥æ‰“å¼€)ï¼Œå¦‚æœæ‰“ä¸å¼€åˆ™æ˜¯å› ä¸ºrabbitmqé»˜è®¤ä¸å¼€å¯webé¡µé¢ï¼Œéœ€è¦è¿›å»å®¹å™¨ä¸­è®¾ç½®ã€‚æ‰§è¡Œå‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it å®¹å™¨id /bin/bash
</code></pre></div><p>åœ¨è¿›å…¥å®¹å™¨åæ‰§è¡Œï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rabbitmq-plugins enable rabbitmq_management
</code></pre></div><p>æˆ‘ä»¬å†è®¿é—®webé¡µé¢å°±å‘ç°å¯ä»¥æ‰“å¼€äº†ã€‚</p>
<h4 id="spring-bootæœåŠ¡éƒ¨ç½²">Spring BootæœåŠ¡éƒ¨ç½²</h4>
<p>åœ¨éƒ¨ç½²å®Œå…¶ä»–çš„ç»„ä»¶åç»ˆäºå¯ä»¥éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨äº†ï¼Œè€Œæ•´ä½“çš„æ€è·¯å°±æ˜¯æŠŠæˆ‘ä»¬çš„åº”ç”¨çš„jaræ–‡ä»¶å˜æˆé•œåƒæ–‡ä»¶ï¼Œç„¶åå†è¿è¡Œå³å¯ã€‚æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠŠåº”ç”¨æ‰“åŒ…æˆjaræ–‡ä»¶ï¼Œæ‹·è´åˆ°æœåŠ¡å™¨ä¸Šä¸€ä¸ªç›®å½•ä¸‹ï¼Œæœ¬æ–‡ä¸­æ‹·è´åˆ°äº†/opt/travel/æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹å†ç”¨å‘½ä»¤vi Dockerfileåˆ›å»ºæ–‡ä»¶ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#æŒ‡å®šåŸºç¡€é•œåƒï¼Œæ ¼å¼ä¸ºï¼šFROM image:tag ä¾‹å¦‚ï¼šFROM java:8   ï¼ˆ8æ˜¯ç‰ˆæœ¬1.8ï¼‰</span>
FROM java

<span style="color:#75715e">#ç»´æŠ¤è€…ä¿¡æ¯</span>
MAINTAINER HUGH

<span style="color:#75715e">#æ·»åŠ è¦åŠ å…¥çš„æ–‡ä»¶ï¼Œä¸COPYå‘½ä»¤çš„æ€§è´¨åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯ADDæ›´å¼ºå¤§</span>
<span style="color:#75715e">#å¯æ·»åŠ æºè·¯å¾„ï¼Œå¯è‡ªåŠ¨è§£å‹å‹ç¼©åŒ…ï¼Œä½†è§£å‹åŠŸèƒ½å’ŒæŒ‡å®šç›®æ ‡è·¯å¾„ä¸å¯åŒæ—¶ä½¿ç”¨</span>
<span style="color:#75715e">#è¯¥å‘½ä»¤åœ¨ä½¿ç”¨docker run -væ—¶å¯ä¸ç”¨ï¼Œåœ¨åç»­æœ‰ä»‹ç»</span>
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
<span style="color:#75715e">#addå‘½ä»¤ä¼šæŠŠconfigä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨ä¸­çš„/opt/test/configä¸‹,æ­¤æ¡ä»£ç åªç”¨ä½œæ·»åŠ æ–‡ä»¶å¤¹çš„è®²è§£ç¤ºèŒƒï¼Œ</span>
ADD config /opt/test/config/

<span style="color:#75715e">#ç”¨äºæŒ‡å®šåœ¨å®¹å™¨å¯åŠ¨æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤</span>
CMD java -jar /opt/travel/travel.jar

<span style="color:#75715e">#ä¸ºæ„å»ºé•œåƒè®¾ç½®ç›‘å¬ç«¯å£ï¼Œä½¿å®¹å™¨åœ¨è¿è¡Œæ—¶ç›‘å¬</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>ä»¥ä¸Šå°±æ˜¯åˆ›å»ºä¸€ä¸ªç®€å•çš„Dockerfileçš„ç¤ºä¾‹ã€‚
Dockerfileè¿˜å¯ä»¥å†™æˆï¼ˆ&quot;-Djava.security.egd=file:/dev/./urandom&quot;å¯ä»¥åŠ å¿«SecureRandomäº§ç”Ÿéšæœºæ•°ï¼Œè¿™æ ·å¯ä»¥é¿å…éƒ¨ç½²çš„ç½‘ç«™åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»é™†æ—¶å¤ªæ…¢ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
ENTRYPOINT <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;java&#34;</span>,<span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom&#34;</span>,<span style="color:#e6db74">&#34;-jar&#34;</span>,<span style="color:#e6db74">&#34;/opt/travel/travel.jar&#34;</span><span style="color:#f92672">]</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>ç„¶åè¿è¡Œå‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t travel-image .
</code></pre></div><p>-t:ç»™é•œåƒå‘½å
æœ€åçš„ç‚¹è¡¨ç¤ºä½¿ç”¨å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„dockerfileæ–‡ä»¶
æ„å»ºå¥½äº†å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æœ‰è‡ªå·±çš„é•œåƒäº†</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker images
</code></pre></div><p>æˆ–è€…</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker image ls   <span style="color:#75715e">#è¿™æ˜¯æ–°ç‰ˆdockerçš„å‘½ä»¤</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20201004222329201.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æœ‰æˆ‘ä»¬çš„é•œåƒåå°±å¯ä»¥è¿è¡Œäº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh travel-image
</code></pre></div><p>e.g.ï¼ˆæ¨èï¼‰
å¯ä»¥åœ¨docker runçš„æ—¶å€™åŠ å…¥-v æ¥æ˜ å°„æ•°æ®å·ï¼Œè¿™æ ·çš„è¯åœ¨åç»­ç‰ˆæœ¬æ›´æ–°ä¸­å¯æ–¹ä¾¿åœ°æ›¿æ¢jaræ–‡ä»¶ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh -v jar:/opt/travel
</code></pre></div><p>è¿™æ¡å‘½ä»¤ä¸­ -våçš„å‚æ•°çš„æ„æ€ä¸ºï¼šæŠŠæœ¬æœºçš„å½“å‰ç›®å½•çš„jaræ–‡ä»¶å¤¹æ˜ å°„åˆ°å®¹å™¨ä¸­çš„/opt/travelæ–‡ä»¶å¤¹ï¼Œè¿™æ ·æ¯æ¬¡æ›´æ–°åªéœ€æ›´æ¢travel.jarå³å¯ï¼ˆä½¿ç”¨æ•°æ®å·çš„è¯å¯åœ¨Dockerfileä¸­æŠŠADD  travel-0.0.1-SNAPSHOT.jar   /opt/travel/travel.jarè¿™è¡Œå‘½ä»¤å»æ‰ï¼‰
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯æŸ¥çœ‹å½“å‰è¿è¡Œçš„é•œåƒ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps
</code></pre></div><p>å¦‚æœè¦æŸ¥çœ‹è¿è¡Œè¿‡çš„æ‰€æœ‰é•œåƒï¼ˆåŒ…æ‹¬ä»¥å‰è¿è¡Œè¿‡ï¼Œç°åœ¨åœæ­¢çš„ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps -a
</code></pre></div><p>å¦‚æœå¯åŠ¨å¤±è´¥äº†å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ æ¡å‘½ä»¤æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ’æŸ¥é—®é¢˜</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker logs <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> CONTAINER
Options:
    --details        æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯
    -f, --follow         è·Ÿè¸ªå®æ—¶æ—¥å¿—
    --since string   æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹åçš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚42mï¼ˆå³42åˆ†é’Ÿï¼‰
    --tail string    ä»æ—¥å¿—æœ«å°¾æ˜¾ç¤ºå¤šå°‘è¡Œæ—¥å¿—ï¼Œ é»˜è®¤æ˜¯all
    -t, --timestamps     æ˜¾ç¤ºæ—¶é—´æˆ³
    --until string   æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹å‰çš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚42mï¼ˆå³42åˆ†é’Ÿï¼‰
</code></pre></div><p>å‰ç«¯pm2éƒ¨ç½²
1.é¦–å…ˆæŠŠé¡¹ç›®æ–‡ä»¶å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šï¼Œæœ¬ä¾‹ä¸­æ”¾åˆ°äº†/opt/frontend/fileä¸‹
2.æ‹‰å–nodeé•œåƒï¼Œæœ¬ä¾‹ä¸­ç”¨çš„nodeé•œåƒä¸ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                   DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
node                                   Node.js is a JavaScript-based platform <span style="color:#66d9ef">for</span>...   <span style="color:#ae81ff">6935</span>      <span style="color:#f92672">[</span>OK<span style="color:#f92672">]</span>   
</code></pre></div><p>3.ä½¿ç”¨vi Dockerfileåˆ›å»ºæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#ä½¿ç”¨çš„åŸºç¡€é•œåƒ</span>
FROM node:latest

<span style="color:#75715e">#ä½œè€…ä¿¡æ¯</span>
MAINTAINER test

<span style="color:#75715e">#æŠŠfileæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°å®¹å™¨çš„/opt/frontendä¸‹</span>
ADD file /opt/frontend/

<span style="color:#75715e">#åœ¨é•œåƒçš„æ„å»ºè¿‡ç¨‹ä¸­æ‰§è¡Œç‰¹å®šçš„å‘½ä»¤å¹¶ç”Ÿæˆä¸€ä¸ªä¸­é—´é•œåƒï¼Œnodeçš„é•œåƒä¸­æ²¡æœ‰pm2ï¼Œæ‰€ä»¥åœ¨æ­¤å®‰è£…</span>
RUN npm install -g pm2

<span style="color:#75715e">#æŒ‡å®šå·¥ä½œè·¯å¾„ï¼Œä¹‹åçš„å‘½ä»¤å°†åœ¨æ­¤è·¯å¾„ä¸Šè¿è¡Œ</span>
WORKDIR /opt/frontend

<span style="color:#75715e">#å› ä¸ºæœ¬ä¾‹ä¸­ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆæ—¥å¿—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‰€ä»¥åœ¨è¿™åˆ›å»ºï¼Œå¦‚æœè‡ªå·±çš„é¡¹ç›®ä¸éœ€è¦çš„å¯ä»¥å»æ‰è¿™é‡Œçš„å‘½ä»¤</span>
RUN mkdir logs
RUN touch logs/app.log

<span style="color:#75715e">#ä¿®æ”¹è„šæœ¬çš„æƒé™ï¼Œä¸ç„¶ä¼šæŠ¥æ²¡æœ‰æƒé™çš„é”™è¯¯</span>
RUN chmod <span style="color:#ae81ff">775</span> frontend-start.sh

<span style="color:#75715e">#npmå®‰è£…</span>
RUN npm install

<span style="color:#75715e">#æš´éœ²å‰ç«¯4010ç«¯å£ï¼ˆæ ¹æ®è‡ªå·±å‰ç«¯æœåŠ¡çš„ç«¯å£ä¿®æ”¹ï¼‰</span>
EXPOSE <span style="color:#ae81ff">4010</span>

<span style="color:#75715e">#æ‰§è¡Œè„šæœ¬</span>
CMD /opt/frontend/frontend-start.sh
</code></pre></div><p>e.gï¼šå› ä¸ºCMDå‘½ä»¤æ˜¯åªæœ‰æœ€åä¸€ä¸ªæ‰ç”Ÿæ•ˆï¼Œè€Œæˆ‘ä»¬è¦æ‰§è¡Œçš„å‘½ä»¤åˆä¸æ­¢ä¸€æ¡ï¼Œæ‰€ä»¥é‡‡ç”¨äº†è¿è¡Œè„šæœ¬æ–‡ä»¶çš„æ–¹å¼æ¥è¿è¡Œ
è„šæœ¬æ–‡ä»¶frontend-start.shå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#pm2éƒ¨ç½²é¡¹ç›®</span>
pm2 start /opt/frontend/pm2.json

<span style="color:#75715e">#æŒç»­ç›‘æ§æ—¥å¿—ï¼Œè®©å®¹å™¨ä¸é€€å‡º</span>
tail -f /opt/frontend/logs/app.log
</code></pre></div><p>4.åœ¨ç¼–å†™å®Œè¿™äº›æ–‡ä»¶åå°±å¯ä»¥å¼€å§‹æ„å»ºé•œåƒ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t test-frontend .
</code></pre></div><p>æœ€åçš„ç‚¹è¡¨ç¤ºä½¿ç”¨å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„dockerfileæ–‡ä»¶
5.ä½¿ç”¨docker imageså‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬æ„å»ºçš„é•œåƒ
è¿è¡Œé•œåƒçš„å‘½ä»¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -d -p 4010:4010 --name test-frontend test-frontend:latest
</code></pre></div><p>6.è¿è¡Œä¹‹åæˆ‘ä»¬é€šè¿‡docker pså‘½ä»¤æŸ¥çœ‹å®¹å™¨æ˜¯å¦åœ¨è¿è¡Œï¼Œå¦‚æœåœ¨è¿è¡Œäº†å°±å¯åœ¨æœ¬åœ°é€šè¿‡æµè§ˆå™¨è®¿é—®åœ°å€æ¥æ‰“å¼€é¡µé¢ï¼šhttp://æœåŠ¡å™¨ip:4010
7.å¦‚æœè¿è¡Œæœ‰é”™è¯¯å¯é€šè¿‡docker logs å®¹å™¨idæ¥æŸ¥çœ‹æ—¥å¿—è§£å†³é—®é¢˜</p>
<h1 id="åŸºäºdocker-composeéƒ¨ç½²">åŸºäºdocker-composeéƒ¨ç½²</h1>
<p>é¦–å…ˆæˆ‘ä»‹ç»ä¸€ä¸‹æœ¬ä¾‹å­çš„ç›®å½•ç»“æ„</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">-docker-compose.yml
-fontend
  -Dockerfile
  -filesï¼ˆå‰ç«¯é¡¹ç›®æ–‡ä»¶ï¼Œå·²åŒ…å«pm2.jsonï¼‰
-backend
  -Dockerfile
  -test.jar
-mysql
  -Dockerfile
  -db
  -sqlï¼ˆè¦åˆå§‹åŒ–æ•°æ®åº“æ‰€éœ€è¦çš„sqlï¼‰
</code></pre></div><p>å‰åç«¯çš„Dockerfileåœ¨å‰æ–‡ä¸­å·²ç»ä»‹ç»ï¼Œè¿™é‡Œä¸»è¦ç›¸æ¯”å‰æ–‡åšä¸€äº›å·®å¼‚åŒ–ä»‹ç»ï¼Œå·®ä¸€ç‚¹å°±åœ¨äºdocker-compose.ymlæ–‡ä»¶å’Œmysqlçš„Dockerfile
mysqlçš„Dockerfileçš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#ä½¿ç”¨mysql8.0åœ¨åç»­çš„sqlè‡ªåŠ¨æ‰§è¡Œä¸­ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œé‡‡ç”¨mysql5.7</span>
FROM mysql:5.7

MAINTAINER test-mysql-compose

<span style="color:#75715e">#æŠŠsql</span>
ADD sql /docker-entrypoint-initdb.d
</code></pre></div><p>ç¼–å†™è¯¥Dockerfileçš„ç›®çš„ä¸»è¦æ˜¯æŠŠè¦åˆå§‹åŒ–mysqlæ•°æ®åº“çš„sqlæ–‡ä»¶æ·»åŠ å…¥å®¹å™¨ä¸­ï¼ŒæŠŠæˆ‘ä»¬æƒ³è¦è‡ªåŠ¨æ‰§è¡Œçš„shæ–‡ä»¶æˆ–sqlæ–‡ä»¶æ”¾å…¥/docker-entrypoint-initdb.dä¸­å³å¯ï¼Œåœ¨å®¹å™¨åˆå§‹åŒ–æ—¶å°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼ˆåŸç†æ˜¯åœ¨å®¹å™¨ä¸­çš„/docker-enetrypoint.shæ–‡ä»¶ï¼Œå®¹å™¨å¯åŠ¨æ—¶ä¼šå»æ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åˆä¼šå»æ‰§è¡Œ/docker-entrypoint-initdb.dä¸­çš„shå’Œsqlæ–‡ä»¶ï¼‰
e.g.
è¿™é‡Œæœ‰ä¸¤ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„çš„é—®é¢˜
åœ¨mysql8.0ä¸­å¦‚æœåœ¨docker-composeä¸­æ·»åŠ äº†volumnçš„æ˜ å°„å°±ä¸ä¼šå†å»æ‰§è¡Œdocker-entrypoint.shæ–‡ä»¶ï¼Œè€Œ5.7ç‰ˆæœ¬æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚æˆ‘æš‚æ²¡æœ‰æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œæ‰€ä»¥è¿™é‡Œå°±é‡‡ç”¨äº†5.7ç‰ˆæœ¬ã€‚
æˆ‘åœ¨æ·»åŠ äº†sqlæ–‡ä»¶ï¼Œæ‰§è¡Œmysqlé•œåƒåå‡ºç°è¿ä¸ä¸Šmysqlçš„é—®é¢˜ï¼ŒæŠ¥çš„unknow serverçš„é”™è¯¯ï¼Œè¿‡äº†åå¤šåˆ†é’Ÿåæ‰èƒ½æ­£å¸¸è„¸ä¸Šã€‚ç»è¿‡æ’æŸ¥æ‰å‘ç°æ˜¯å› ä¸ºsqlæ–‡ä»¶å¤ªå¤§å¯¼è‡´æ²¡æœ‰å¯¼å…¥å®Œï¼ˆæˆ‘çš„è¿è¡Œäº†16ä¸ªSQLæ–‡ä»¶å¤§æ¦‚å…±15.5MBï¼Œç”¨äº†20åˆ†é’Ÿå·¦å³ï¼‰ã€‚è¿™æ ·çš„é—®é¢˜å½“ç„¶æœ‰ä¸»æœºæ€§èƒ½ç­‰å› ç´ å½±å“ï¼Œæ‰€ä»¥å»ºè®®åˆå§‹åŒ–çš„sqlæ–‡ä»¶å°½é‡è¦å°ã€‚
æ¥ä¸‹æ¥å°±æ˜¯æœ€é‡è¦çš„docker-compose.ymlæ–‡ä»¶çš„ä»‹ç»</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#docker-composeçš„ç‰ˆæœ¬</span>
version: <span style="color:#e6db74">&#39;3&#39;</span>

<span style="color:#75715e">#å®šä¹‰æœåŠ¡</span>
services:

  <span style="color:#75715e">#æœåŠ¡åç§°ï¼Œå¯éšæ„å®šä¹‰</span>
  backend:
    build:
      <span style="color:#75715e">#dockerfileçš„è·¯å¾„</span>
      context: backend
      <span style="color:#75715e">#dockerfileçš„åç§°</span>
      dockerfile: Dockerfile
    <span style="color:#75715e">#ç›¸å½“äºdocker run -vçš„ä½œç”¨</span>
    volumes:
      - <span style="color:#e6db74">&#34;./jar:/opt/test&#34;</span>
    <span style="color:#75715e">#å®¹å™¨åç§°</span>
    container_name: test-backend-compose
    <span style="color:#75715e">#è¯¥æœåŠ¡ä¾èµ–çš„å…¶ä»–æœåŠ¡ï¼Œè¯¥é…ç½®é€‰é¡¹å¯ä¿®æ”¹å¯åŠ¨é¡ºåº</span>
    depends_on:
      - mysql
      - redis
      - rabbitmq
    ports:
      - <span style="color:#e6db74">&#34;8082:8082&#34;</span>

  frontend:
    build:
      context: frontend
      dockerfile: Dockerfile
    ports:
      - <span style="color:#e6db74">&#34;4010:4010&#34;</span>
    container_name: test-frontend-compose

  mysql:
    build:
      context: mysql
      dockerfile: Dockerfile
    ports:
      - <span style="color:#e6db74">&#34;3306:3306&#34;</span>
    <span style="color:#75715e">#ç›¸å½“äºdocker runå‘½ä»¤ä¸­çš„-e</span>
    environment:
      MYSQL_ROOT_PASSWORD: root
      <span style="color:#75715e">#åˆå§‹åŒ–çš„æ•°æ®åº“åç§°</span>
      MYSQL_DATABASE: test
    container_name: test-mysql-compose
    restart: always
    <span style="color:#75715e">#æ•°æ®å·æ˜ å°„å…³ç³»ï¼ŒæŠŠæœ¬æœºçš„./mysql/dbç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­çš„/var/lib/mysql</span>
    volumes:
      - <span style="color:#e6db74">&#34;./mysql/db/:/var/lib/mysql&#34;</span>
    <span style="color:#75715e">#è¯¥é€‰é¡¹ä¸­çš„å‘½ä»¤ä¼šè¦†ç›–Dockfileä¸­çš„CMDä¸­çš„å‘½ä»¤.lower_case_table_nameså‚æ•°æ˜¯ä¸ºäº†è¡¨åä¸åŒºåˆ†å¤§å°å†™ï¼Œdefault-authentication-pluginæ˜¯8.0ä¸­å¯†ç åŠ å¯†ç­–ç•¥ä¸åŒå¸¦æ¥çš„é“¾æ¥é—®é¢˜ï¼Œå¦‚æœä¸ç”¨8.0å¯ä¸åŠ æ­¤é€‰é¡¹</span>
    command: mysqld --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password

  redis:
    image: redis
    ports:
      - <span style="color:#e6db74">&#34;6379:6379&#34;</span>
    container_name: test-redis-compose
    restart: always
    <span style="color:#75715e">#å¯åŠ¨redisæœåŠ¡å¹¶æ·»åŠ å¯†ç ä¸ºï¼š123456,å¹¶å¼€å¯redisçš„æŒä¹…åŒ–</span>
    command: redis-server --requirepass <span style="color:#ae81ff">123456</span> --appendonly yes

  rabbitmq:
    image: rabbitmq:management
    ports:
      - <span style="color:#e6db74">&#34;5672:5672&#34;</span>
      - <span style="color:#e6db74">&#34;15672:15672&#34;</span>
    container_name: test-rabbitmq-compose
    environment:
      <span style="color:#75715e">#rabbitmqçš„åˆå§‹ç”¨æˆ·å</span>
      RABBITMQ_DEFAULT_USER: admin
      <span style="color:#75715e">#rabbitmqçš„åˆå§‹å¯†ç </span>
      RABBITMQ_DEFAULT_PASS: <span style="color:#ae81ff">123456</span>

<span style="color:#75715e">#æŒ‡å®šä½¿ç”¨çš„ç½‘ç»œï¼Œæ­¤å¤„æ˜¯ä½¿ç”¨å·²ç»æå‰åˆ›å»ºå¥½çš„è‡ªå®šä¹‰ç½‘ç»œ</span>
<span style="color:#75715e">#ç½‘ç»œåˆ›å»ºå‘½ä»¤ï¼šdocker network create -d bridge --subnet 172.50.0.0/16 cooperationassociation</span>
<span style="color:#75715e">#--subnetæŒ‡å®šç½‘æ®µ -dæŒ‡å®šè¿æ¥æ–¹å¼ï¼Œæœ€åçš„cooperationassociationä¸ºç½‘ç»œåç§°</span>
<span style="color:#75715e">#ä½¿ç”¨æ–°çš„æŒ‡å®šç½‘ç»œæ˜¯ä¸ºäº†é˜²æ­¢ç½‘æ®µå ç”¨å®Œï¼Œè¿™æ ·ä¼šå¯¼è‡´å¯åŠ¨å®¹å™¨æ—¶XShellä¼šè‡ªåŠ¨é€€å‡ºï¼Œä¸”æœ¬åœ°ç”¨ä¸äº†è®¿é—®ä¸äº†æœåŠ¡ï¼ˆæœåŠ¡å™¨å·²æœ‰å¤§é‡è¿æ¥æ—¶å¯èƒ½ä¼šå‡ºç°ï¼‰</span>
<span style="color:#75715e">#æŸ¥çœ‹ç½‘æ®µå ç”¨æƒ…å†µçš„å‘½ä»¤ï¼šroute -n</span>
networks:
  default:
    external:
      name: cooperationassociation
</code></pre></div><p>ç¼–å†™æ–‡ä»¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯è¿è¡Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#-dè¡¨ç¤ºåå°è¿è¡Œ</span>
docker-compose up -d
</code></pre></div><p>docker-composeè¿˜æœ‰ä»¥ä¸‹å¸¸ç”¨å‘½ä»¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#åœæ­¢è¿è¡Œå¹¶ç§»é™¤å®¹å™¨</span>
docker-compose down

<span style="color:#75715e">#å¯åŠ¨å•ä¸ªæœåŠ¡</span>
docker-compose up -d æœåŠ¡å

<span style="color:#75715e">#æŸ¥çœ‹å½“å‰è¿è¡Œçš„æœåŠ¡</span>
docker-compose ps

<span style="color:#75715e">#æ„å»ºé•œåƒï¼Œ--no-cacheè¡¨ç¤ºä¸ç”¨ç¼“å­˜ï¼Œå¦åˆ™åœ¨é‡æ–°ç¼–è¾‘Dockerfileåå†buildå¯èƒ½ä¼šç›´æ¥ä½¿ç”¨ç¼“å­˜è€Œå¯¼è‡´æ–°ç¼–è¾‘å†…å®¹ä¸ç”Ÿæ•ˆ</span>
docker-compose build --no-cache

<span style="color:#75715e">#æŸ¥çœ‹é•œåƒ</span>
docker-compose images

<span style="color:#75715e">#æŸ¥çœ‹æ—¥å¿—</span>
docker-compose logs

<span style="color:#75715e">#å¯åŠ¨/åœæ­¢æœåŠ¡</span>
docker-compose start/stop æœåŠ¡å

<span style="color:#75715e">#æ‹‰å–é•œåƒ</span>
docker-compose pull é•œåƒå
</code></pre></div><p>ä»¥ä¸Šåªæ˜¯ä¸€äº›æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºå¸¸ç”¨çš„dockerå‘½ä»¤åœ¨docker-composeä¸­ä¹Ÿå¯ä½¿ç”¨ã€‚</p>
<h1 id="dockeråˆ é™¤é•œåƒå’Œå®¹å™¨">Dockeråˆ é™¤é•œåƒå’Œå®¹å™¨</h1>
<p>åˆ é™¤dockerä¸­çš„é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker rmi é•œåƒid
</code></pre></div><p>å¦‚æœæ— æ³•åˆ é™¤å°±ä½¿ç”¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker  rmi  -f  é•œåƒid
</code></pre></div><p>åˆ é™¤dockerä¸­çš„å®¹å™¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker rm å®¹å™¨id
</code></pre></div><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps
</code></pre></div><p>å¯¹äºå·²é€€å‡ºçš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker ps -a
</code></pre></div><h1 id="æç‚¼æ€»ç»“">æç‚¼æ€»ç»“</h1>
<p>è¿è¡Œmysql</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name mysql -p 3306:3306 -v mysql_data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> -d mysql --lower_case_table_names<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --default-authentication-plugin<span style="color:#f92672">=</span>mysql_native_password
</code></pre></div><p>è¿è¡Œredis</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --name redis -p 6379:6379 -d redis --requirepass <span style="color:#e6db74">&#39;huang6kongsheng&#39;</span>
</code></pre></div><p>è¿›å…¥redis</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker exec -it 5499931b77fb7a26e829b8c9ff9320be0a215d2907131802cec694f8091aa5ae redis-cli -h 127.0.0.1 -p <span style="color:#ae81ff">6379</span>
</code></pre></div><p>è¿è¡Œrabbitmqå¹¶å¼€å¯å‰ç«¯é¡µé¢</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d --hostname localhost --name rabbit -e RABBITMQ_DEFAULT_USER<span style="color:#f92672">=</span>admin -e RABBITMQ_DEFAULT_PASS<span style="color:#f92672">=</span>admin -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre></div><p>Dockerfile</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
ENTRYPOINT <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;java&#34;</span>,<span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom&#34;</span>,<span style="color:#e6db74">&#34;-jar&#34;</span>,<span style="color:#e6db74">&#34;/travel.jar&#34;</span><span style="color:#f92672">]</span>
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM java:8
MAINTAINER HUGH
ADD travel-0.0.1-SNAPSHOT.jar /opt/travel/travel.jar
CMD java -jar /opt/travel/travel.jar
EXPOSE <span style="color:#ae81ff">8083</span>
</code></pre></div><p>åˆ›å»ºé•œåƒ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t travel-image .
</code></pre></div><p>è¿è¡Œé•œåƒ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 8083:8083 --name tavelhugh travel-image
</code></pre></div><p>å¼•ç”¨ï¼šhttps://www.jianshu.com/p/528fa4d62ace</p>
</article>
    </section>

    <footer class="ui attached segment dream-tags" data-html2canvas-ignore>
      
        
          <a class="ui label" href="/tags/docker" title="docker">docker</a>
        
          <a class="ui label" href="/tags/springboot" title="springboot">springboot</a>
        
          <a class="ui label" href="/tags/mysql" title="mysql">mysql</a>
        
          <a class="ui label" href="/tags/redis" title="redis">redis</a>
        
          <a class="ui label" href="/tags/rabbitmq" title="rabbitmq">rabbitmq</a>
        
      
      <div
        class="ui label"
        style="float: right; cursor: pointer;"
        onclick="savePostAsImg()">
        <i class="save icon"></i>ä¿å­˜ä¸ºå›¾ç‰‡
      </div>
    </footer>

    
      <footer class="ui attached segment" data-html2canvas-ignore>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />æœ¬ä½œå“é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚
      </footer>
    

    
      <footer class="ui bottom attached stacked segment post-disqus-area" data-html2canvas-ignore>
        <div id="disqus_thread"></div>
        <script>
          


          var disqus_config = function () {
            this.page.url = 'https:\/\/huangkongshenghugh.gitee.io\/posts\/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq\/';  
            this.page.identifier = '\/posts\/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq\/'; 
          };

          (function() { 
            var d = document, s = d.createElement('script');
            s.src = 'https://' + 'kongshenghuang6' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </footer>
    
    
    

  </div>
  <div class="sixteen wide mobile sixteen wide tablet four wide computer column">
    <article class="dream-header">
  <section class="ui top attached center aligned segment">
    <div class="ui small circular image">
      
        <img src="/img/avatar.jpg">
      
    </div>

    
    <div class="ui medium header">Huangkongsheng çš„åšå®¢<div class="sub header" style="margin-top: 0.5rem;">ä¸å…¶æ„Ÿæ…¨å‰è·¯éš¾è¡Œï¼Œä¸å¦‚é©¬ä¸Šå‡ºå‘ã€‚</div>
    </div>
    

    <div class="ui horizontal list">
      
      <a class="item" href="/posts">
        <i class="archive icon" title="å½’æ¡£"></i>
      </a>
      
      <a class="item" href="/tags">
        <i class="tags icon" title="æ‰€æœ‰æ ‡ç­¾"></i>
      </a>
      <a class="item" href="/categories">
        <i class="th list icon" title="æ‰€æœ‰åˆ†ç±»"></i>
      </a>
    </div>
  </section>

  
  <section class="ui attached center aligned segment dream-tags">
    
      <a class="ui label" href="/tags/alipay" title="alipay">alipay</a>
    
      <a class="ui label" href="/tags/bigdecimal" title="bigdecimal">bigdecimal</a>
    
      <a class="ui label" href="/tags/centos8" title="centos8">centos8</a>
    
      <a class="ui label" href="/tags/docker" title="docker">docker</a>
    
      <a class="ui label" href="/tags/email" title="email">email</a>
    
      <a class="ui label" href="/tags/git" title="git">git</a>
    
      <a class="ui label" href="/tags/gitpit" title="gitpit">gitpit</a>
    
      <a class="ui label" href="/tags/hugo" title="hugo">hugo</a>
    
      <a class="ui label" href="/tags/jdk" title="jdk">jdk</a>
    
      <a class="ui label" href="/tags/layui" title="layui">layui</a>
    
      <a class="ui label" href="/tags/linux" title="linux">linux</a>
    
      <a class="ui label" href="/tags/mysql" title="mysql">mysql</a>
    
      <a class="ui label" href="/tags/rabbitmq" title="rabbitmq">rabbitmq</a>
    
      <a class="ui label" href="/tags/redis" title="redis">redis</a>
    
      <a class="ui label" href="/tags/springboot" title="springboot">springboot</a>
    
      <a class="ui label" href="/tags/string" title="string">string</a>
    
      <a class="ui label" href="/tags/tomcat" title="tomcat">tomcat</a>
    
      <a class="ui label" href="/tags/%E5%8D%9A%E5%AE%A2" title="åšå®¢">åšå®¢</a>
    
  </section>
  

  
  <section class="ui attached segment dream-categories">
    <div class="ui accordion">
      
      
      
      
      

      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/alipay" class="item">alipay</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/%E5%85%B3%E4%BA%8E%E6%94%AF%E4%BB%98%E5%AE%9D%E5%90%8C%E6%AD%A5%E9%AA%8C%E7%AD%BE%E6%88%90%E5%8A%9F%E8%80%8C%E5%BC%82%E6%AD%A5%E9%AA%8C%E7%AD%BE%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="item">å…³äºæ”¯ä»˜å®åŒæ­¥éªŒç­¾æˆåŠŸè€Œå¼‚æ­¥éªŒç­¾å¤±è´¥çš„è§£å†³åŠæ³•</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/docker" class="item">docker</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/docker%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2springboot%E5%8C%85%E5%90%ABmysqlredisrabbitmq/" class="item">Dockerå¿«é€Ÿéƒ¨ç½²springbootåŒ…å«mysqlã€redisã€rabbitmq</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/email" class="item">email</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/securerandom%E9%9D%9E%E5%B8%B8%E6%85%A2%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="item">SecureRandoméå¸¸æ…¢è§£å†³åŠæ³•</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/git" class="item">git</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/hugoblogbuild/" class="item">ä½¿ç”¨Hugoå¿«é€Ÿæ­å»ºä¸ªäººåšå®¢ç½‘ç«™</a>
                </div>
              </div>
            
              <div class="item">
                <div class="content">
                  <a href="/posts/errorauthentication/" class="item">ä»Šå¤©ä½¿ç”¨gitæ—¶å‡ºç°fatal:HttpRequestException encountered.å‘é€è¯·æ±‚æ—¶å‡ºé”™ã€‚</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/java" class="item">java</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/bigdecimal%E8%BD%ACstring/" class="item">BigDecimalè½¬String</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
          <div class="title">
            <i class="dropdown icon"></i>
            <a href="/categories/layui" class="item">layui</a>
          </div>
          <div class="content">
            <div class="ui list">
            
              <div class="item">
                <div class="content">
                  <a href="/posts/springboot%E6%95%B4%E5%90%88layui%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5/" class="item">Springbootæ•´åˆlayuiè¿›è¡Œåˆ†é¡µ</a>
                </div>
              </div>
            
            </div>
          </div>
        
      
        

        
      

      
        <div class="title">
          <a class="item" href="/categories" style="padding-left: 0.5rem;">......</a>
        </div>
      
    </div>
  </section>
  

  <section class="ui attached segment header-socials">
    <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:1711539076@qq.com">
        <i class=" mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  
    <div class="item">
      <a href="https://github.com/huangkongsheng" target="_blank">
        <i class=" github icon" title="GitHub"></i>
      </a>
    </div>
  

  

  
</nav>

  </section>

  <section class="ui bottom attached center aligned segment">
    
      <p>Â© 2018 - 2020 Huangkongsheng Blog</p>
    

    <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</p>

    
      <p>nothing's gonna change my love for youï¼</p>
    
  </section>
</article>

  </div>
</div>

          </div>
        </section>
        <section class="back">
          <div class="dream-max-width">
            <div class="ui centered relaxed grid dream-grid dream-back">
  
  
  
    <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
      <article>
        <div class="ui top attached segment">
          <h3 class="ui header">è”ç³»æ–¹å¼</h3>
        </div>
        <div class="ui bottom attached segment markdown-body">
          <p>QQï¼š1576945489</p>
<p>qqé‚®ç®±ï¼š1576945489@qq.com</p>

        </div>
      </article>
    </section>
  
    <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
      <article>
        <div class="ui top attached segment">
          <h3 class="ui header">å…³äºæˆ‘</h3>
        </div>
        <div class="ui bottom attached segment markdown-body">
          <p>çš„ â¤ï¸ åšå®¢</p>
<p>è®°å½•ä¸€äº› ğŸŒˆ ç”Ÿæ´»ä¸Šï¼ŒæŠ€æœ¯ä¸Šçš„äº‹</p>
<p>ä¸šä½™æ—¶é—´ä¼šåšå¼€æºå’Œ JavaWeb</p>
<p>ä¸»è¦çš„æŠ€æœ¯æ ˆæ˜¯ï¼š</p>
<ul>
<li>JavaScript &amp; TypeScript</li>
<li>Java</li>
<li>Spring</li>
<li>Springboot</li>
</ul>
<p>å†™ç€ç©ï¼ˆå†™è¿‡ï¼‰ï¼š</p>
<ul>
<li>JavaScript</li>
</ul>

        </div>
      </article>
    </section>
  

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    <article>
      <div class="ui top attached segment">
        <h3 class="ui header">ç¤¾äº¤é“¾æ¥</h3>
      </div>
      <div class="ui bottom attached segment">
        <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:1711539076@qq.com">
        <i class="large mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  
    <div class="item">
      <a href="https://github.com/huangkongsheng" target="_blank">
        <i class="large github icon" title="GitHub"></i>
      </a>
    </div>
  

  

  
</nav>

      </div>
    </article>
  </section>

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    
      <footer class="ui segment">
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />æœ¬ä½œå“é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚
      </footer>
    
  </section>

  
  
</div>

          </div>
        </section>
      </div>
    </div>

    <script>
  window.darkNav =  true 
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/semantic.min.js"></script>
<script src="/js/jquery.overlayScrollbars.min.js"></script>
<script src="/js/header.js"></script>
<script src="/js/main.js"></script>
<script src="/js/theme.js"></script>

    
<script src="/js/html2canvas.min.js"></script>
<script src="/js/post.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js"></script>

  
    
      <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/languages/ocaml.min.js"></script>
     
  

  <script>
  hljs.initHighlightingOnLoad()
  setHighlightTheme()

  function setHighlightTheme() {
    var isDark = localStore.getItem('hugo-theme-dream-is-dark')
    var lightTheme = "gruvbox-light"
    var darkTheme = "gruvbox-dark"
    var theme = isDark ? darkTheme : lightTheme

    $('link[data-highlight]').attr('href', 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/' + theme + '.min.css')
    $('pre').css('background', isDark ? '#333' : '')
  }
</script>





    
      <div class="ui inverted segment" id="dream-search">
  <div class="ui search">
    <div class="ui transparent input">
      <input class="prompt" type="text" placeholder="æœç´¢" />
    </div>
    <div class="results"></div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $.getJSON('https:\/\/huangkongshenghugh.gitee.io\//index.json', function (data) {
      $('.ui.search').search({
        source: data,
        searchFields: ['title'],
        showNoResults: true,
      })
    })
  })
</script>
<script src="/js/search.js"></script>

    

    
  </body>
</html>
